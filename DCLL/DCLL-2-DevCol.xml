<?xml version="1.0" encoding="UTF-8"?>
<article xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"
         version="5.0">
    <info>
        <title>DCLL 2 - Développement collaboratif</title>
        <author>
            <personname>Franck Silvestre</personname>
            <email>franck.silvestre@irit.fr</email>
        </author>
        <keywordset>
            <keyword>Développement collaboratif</keyword>
            <keyword role="hashtag">git</keyword>
            <keyword role="hashtag">maven</keyword>
            <keyword role="hashtag">jenkins</keyword>
        </keywordset>
        <legalnotice>
            <para>
                <link xlink:href="http://creativecommons.org/licenses/by-nc/3.0/">Cette oeuvre est mise à disposition
                    selon les termes de la Licence Creative Commons Paternité - Pas d'Utilisation Commerciale 3.0 non
                    transposé.
                </link>
            </para>
        </legalnotice>
    </info>
    <section role="slide" xml:id="dcll_2_1">
        <title>Développement collaboratif</title>
        <blockquote>
            <para>
                Développer de manière collaborative, c'est travailler à plusieurs sur la même base de code pour
                produire un logiciel.
            </para>
        </blockquote>
    </section>
    <section xml:id="sect_1">
        <title>01 - Partager juridiquement le code source</title>
        <section role="slide" xml:id="dcll_2_2">
            <title>Le logiciel est régi par le droit d'auteur</title>
            <blockquote>
                <para>
                    <emphasis>Code de la propriété intellectuelle - Article L113-9</emphasis>
                </para>
                <para>
                    Sauf dispositions statutaires ou stipulations contraires, les droits patrimoniaux sur les logiciels
                    et leur documentation créés par un ou plusieurs employés dans l'exercice de leurs fonctions ou
                    d'après
                    les instructions de leur employeur sont dévolus à l'employeur qui est seul habilité à les exercer.
                    Toute contestation sur l'application du présent article est soumise au tribunal de grande instance
                    du siège social de l'employeur.
                    Les dispositions du premier alinéa du présent article sont également applicables aux agents de
                    l'Etat,
                    des collectivités publiques et des établissements publics à caractère administratif.
                </para>
            </blockquote>
            <section role="comments">
                <title>Commentaires</title>
                <para>
                    Le logiciel fait donc l'objet d'une exception par rapport au droit d'auteur "traditionnel".
                </para>
            </section>
        </section>
        <section role="slide" xml:id="dcll_2_3">
            <title>Logiciel développé par des employés</title>
            <itemizedlist>
                <listitem>
                    <para>Logiciel développé par les employés d'une même entité
                        <itemizedlist>
                            <listitem>
                                <para>Le code source est produit par les employés</para>
                            </listitem>
                            <listitem>
                                <para>Les droits patrimoniaux appartiennent à l'employeur</para>
                            </listitem>
                        </itemizedlist>
                    </para>
                </listitem>
            </itemizedlist>
            <itemizedlist>
                <listitem>
                    <para>Exemples
                        <itemizedlist>
                            <listitem>
                                <para>CATIA - Dassault Système</para>
                            </listitem>
                            <listitem>
                                <para>Oracle - Oracle</para>
                            </listitem>
                            <listitem>
                                <para>iTunes - Apple</para>
                            </listitem>
                        </itemizedlist>
                    </para>
                </listitem>
            </itemizedlist>
        </section>
        <section role="slide" xml:id="dcll_2_4">
            <title>Logiciel libre et entreprise</title>
            <para>Un logiciel libre peut-il "appartenir" à une entreprise ?</para>
        </section>
        <section role="slide" xml:id="dcll_2_5">
            <title>Logiciel libre et entreprise</title>
            <blockquote>
                <attribution>
                    <link xlink:href="http://www.mysql.com/about/legal/licensing/oem/#4">FAQ MySql</link>
                </attribution>
                <para>
                    <emphasis>Q4: What is Oracle’s dual license model for MySQL software?</emphasis>
                </para>
                <para>A: Oracle makes its MySQL database server and MySQL Client Libraries available under both the GPL
                    and a commercial license. As a result, developers who use or distribute open source applications
                    under the GPL can use the GPL-licensed MySQL software, and OEMs, ISVs and VARs that do not want to
                    combine or distribute the MySQL software with their own commercial software under a GPL license can
                    purchase a commercial license.
                </para>
            </blockquote>
        </section>
        <section role="slide" xml:id="dcll_2_6">
            <title>Logiciels développés par une communauté</title>
            <blockquote>
                <attribution>
                    <link xlink:href="http://www.postgresql.org/about/press/faq/">FAQ PostgreSql</link>
                </attribution>
                <para>
                    <emphasis>Q: What company owns PostgreSQL?</emphasis>
                </para>
                <para>A: None. We are an unincorporated association of volunteers and companies who share code under the
                    PostgreSQL License. The PostgreSQL project involves a couple dozen companies who either support
                    PostgreSQL contributors or directly contribute corporate projects to our repository. Some of our
                    major corporate sponsors are on the sponsors page, and there are many more companies who contribute
                    to the project in other ways.
                </para>
            </blockquote>
        </section>
        <section role="slide" xml:id="dcll_2_7">
            <title>Logiciel libre, entreprise et communauté</title>
            <para>Un logiciel libre appartenenant à une entreprise et développé par une communauté, c'est possible ?
            </para>
        </section>
        <section role="slide" xml:id="dcll_2_8">
            <title>Logiciel libre, entreprise et communauté</title>
            <blockquote>
                <attribution>
                    <link xlink:href="https://wikis.oracle.com/display/mysql/Contributing+Code+to+MySQL">Wiki Oracle
                        MySql
                    </link>
                </attribution>
                <para>If you expect to make code-related contributions, you must sign and return the<emphasis>Oracle
                    Contributor
                    Agreement (OCA)</emphasis>. Without an OCA on file, Oracle cannot integrate your contribution into
                    the MySQL
                    code base or engage in extended discussions on proposed patches. The OCA gives Oracle and the
                    contributor joint copyright interests in the code: The contributor retains copyright while also
                    granting those rights to Oracle as the open-source development project sponsor. The OCA is
                    applicable to all products and projects owned or managed by Oracle; signing it once means you can
                    contribute code to any Oracle-sponsored open-source project. More detail, and the OCA itself, is
                    available on the Oracle Contributor Agreement page.
                </para>
            </blockquote>
            <section role="comments">
                <title>Commentaires</title>
                <para>La signature d'un
                    <emphasis>Contributor Licence Agreement</emphasis>
                    est controversée en raison de l'éventuel
                    déséquilibre induit entre la société et les controbuteurs externes.
                </para>
            </section>
        </section>
    </section>
    <section xml:id="sect_2">
        <title>02 - Partager techniquement le code source</title>
        <section role="slide" xml:id="dcll_2_9">
            <title>Version Control System (VCS)</title>
            <itemizedlist>
                <listitem>
                    <para>Gestion de version de code source</para>
                </listitem>
                <listitem>
                    <para>Permet de gérer les changements sur le code source</para>
                </listitem>
                <listitem>
                    <para>Prise en compte des modifications provenant de plusieurs contributeurs</para>
                </listitem>
                <listitem>
                    <para>Révision : un lot de changements reporté par un contributeur induit une nouvelle version du
                        code source
                    </para>
                </listitem>
                <listitem>
                    <para>Possibilité de retrouver à tout moment le code source correspondant à une révision donnée
                    </para>
                </listitem>
                <listitem>
                    <para>Et bien d'autres choses...</para>
                </listitem>
            </itemizedlist>
        </section>
        <section role="slide" xml:id="dcll_2_10">
            <title>VCS - concepts clés</title>
            <itemizedlist>
                <listitem>
                    <para>Repository / dépôt
                        <itemizedlist>
                            <listitem>
                                <para>Réceptacle du code source et de son historique</para>
                            </listitem>
                        </itemizedlist>
                    </para>
                </listitem>
                <listitem>
                    <para>3 modèles d'architecture
                        <itemizedlist>
                            <listitem>
                                <para>modèle local</para>
                            </listitem>
                            <listitem>
                                <para>modèle centralisé</para>
                            </listitem>
                            <listitem>
                                <para>modèle distribué</para>
                            </listitem>
                        </itemizedlist>
                    </para>
                </listitem>
            </itemizedlist>
            <section role="comments">
                <title>Commentaires</title>
                <para>Les modèles d'architectures centralisé et distribué sont utilisables dans le cadre d'un
                    développement collaboratif.
                </para>
            </section>
        </section>
        <section role="slide" xml:id="dcll_2_11">
            <title>Modèle architecture centralisée</title>
            <mediaobject>
                <alt>Schéma modèle architecure centralisée</alt>
                <imageobject>
                    <imagedata fileref="images/vcs-archi-centralisee.png"/>
                </imageobject>
            </mediaobject>
        </section>
        <section role="slide" xml:id="dcll_2_12">
            <title>Modèle architecture distribuée</title>
            <mediaobject>
                <alt>Schéma modèle architecure distribuée</alt>
                <imageobject>
                    <imagedata fileref="images/vcs-archi-distribuee.png"/>
                </imageobject>
            </mediaobject>
        </section>
        <section role="slide" xml:id="dcll_2_13">
            <title>Modèle architecture distribuée</title>
            <itemizedlist>
                <listitem>
                    <para>Avantages</para>
                    <itemizedlist>
                        <listitem>
                            <para>Limite les latences liées au réseau</para>
                        </listitem>
                        <listitem>
                            <para>Modèles organisationnels plus riches</para>
                        </listitem>
                    </itemizedlist>
                </listitem>
                <listitem>
                    <para>Inconvénient ?</para>
                    <itemizedlist>
                        <listitem>
                            <para>Pour les "SVN" natifs, il faut désapprendre...</para>
                        </listitem>
                    </itemizedlist>
                </listitem>
            </itemizedlist>
        </section>
        <section role="slide" xml:id="dcll_2_14">
            <title>Quelques outils de gestion de version</title>
            <itemizedlist>
                <listitem>
                    <para>Open Source</para>
                    <itemizedlist>
                        <listitem>
                            <para>
                                <link xlink:href="http://cvs.nongnu.org">CVS</link>
                                - centralisé
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                <link xlink:href="http://subversion.apache.org">SVN</link>
                                - centralisé
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                <link xlink:href="http://git-scm.com">Git</link>
                                - distribué
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                <link xlink:href="http://mercurial.selenic.com">Mercurial</link>
                                - distribué
                            </para>
                        </listitem>
                    </itemizedlist>
                </listitem>
                <listitem>
                    <para>Propriétaires</para>
                    <itemizedlist>
                        <listitem>
                            <para>
                                <link xlink:href="http://www.perforce.com">Perforce</link>
                                - centralisé
                            </para>
                        </listitem>
                        <listitem>
                            <para>
                                <link xlink:href="http://www-03.ibm.com/software/products/en/clearcase">ClearCase</link>
                                - centralisé
                            </para>
                        </listitem>
                    </itemizedlist>
                </listitem>
            </itemizedlist>
        </section>
        <section role="slide" xml:id="dcll_2_15">
            <title>Concepts clés 1/2</title>
            <itemizedlist>
                <listitem>
                    <para>Révision</para>
                    <itemizedlist>
                        <listitem>
                            <para>un lot de changements identifiés sur le repository</para>
                        </listitem>
                        <listitem>
                            <para>identification: timestamp, contributeur, numéro</para>
                        </listitem>
                    </itemizedlist>
                </listitem>
                <listitem>
                    <para>Branche</para>
                    <itemizedlist>
                        <listitem>
                            <para>Permet les modifications du code source de manière isolée</para>
                        </listitem>
                        <listitem>
                            <para>branche principale, branche de maintenance, branche d'évolution</para>
                        </listitem>
                    </itemizedlist>
                </listitem>
                <listitem>
                    <para>Merge / Intégration</para>
                    <itemizedlist>
                        <listitem>
                            <para>Action d'appliquer des changements effectués dans une branche à une autre branche
                            </para>
                        </listitem>
                        <listitem>
                            <para>Exemple : merge d'une branche de maintenance à la branche principale</para>
                        </listitem>
                    </itemizedlist>
                </listitem>
                <listitem>
                    <para>Tag</para>
                    <itemizedlist>
                        <listitem>
                            <para>permet de marquer un instantané du code source correspondant à une révision donnée
                            </para>
                        </listitem>
                    </itemizedlist>
                </listitem>
            </itemizedlist>
        </section>
        <section role="slide" xml:id="dcll_2_16">
            <title>Concepts clés 2/2</title>
            <mediaobject>
                <alt>Schéma de visualisation de révisions, de branches, de tags, de merges</alt>
                <imageobject>
                    <imagedata
                            fileref="http://upload.wikimedia.org/wikipedia/commons/a/af/Revision_controlled_project_visualization-2010-24-02.svg"/>
                </imageobject>
                <caption>
                    http://upload.wikimedia.org/wikipedia/commons/a/af/Revision_controlled_project_visualization-2010-24-02.svg
                </caption>
            </mediaobject>
        </section>
    </section>
    <section role="slide" xml:id="dcll_2_17">
        <title>Interagir avec les outils de gestions de versions</title>
        <itemizedlist>
            <listitem>
                <para>Logiciels dédiés</para>
                <para>TortoiseSVN, TortoiseGit, Github For ...</para>
            </listitem>
            <listitem>
                <para>Logiciels intégrés dans les IDE</para>
                <para>plugins Eclipse, IntelliJ, Netbeans pour CVS, SVN, Git</para>
            </listitem>
        </itemizedlist>
    </section>
    <section xml:id="sect_3">
        <title>03 - Partager les dépendances à des librairies tierces</title>
        <section role="slide" xml:id="dcll_2_18">
            <title>La gestion des dépendances</title>
            <itemizedlist>
                <listitem>
                    <para>Un logiciel se construit souvent à partir de briques logicielles existantes</para>
                </listitem>
                <listitem>
                    <para>Nécessite de gérer les dépendances aux librairies tierces.</para>
                </listitem>
            </itemizedlist>
        </section>
        <section role="slide" xml:id="dcll_2_19">
            <title>La gestion des dépendances : questions</title>
            <itemizedlist>
                <listitem>
                    <para>Où trouver les dépendances ?</para>
                </listitem>
                <listitem>
                    <para>Comment déclarer les dépendances ?</para>
                </listitem>
                <listitem>
                    <para>Comment utiliser les dépendances ?</para>
                </listitem>
            </itemizedlist>
        </section>
        <section role="slide" xml:id="dcll_2_20">
            <title>Maven</title>
            <itemizedlist>
                <listitem>
                    <para>Outil pour la gestion et la construction de projets reposant sur Java</para>
                </listitem>
                <listitem>
                    <para>
                        <link xlink:href="http://maven.apache.org">http://maven.apache.org</link>
                    </para>
                </listitem>
                <listitem>
                    <para>La construction (build) d'un projet avec Maven</para>
                    <itemizedlist>
                        <listitem>
                            <para>Compilation</para>
                        </listitem>
                        <listitem>
                            <para>Exécution des tests</para>
                        </listitem>
                        <listitem>
                            <para>Packaging des artefacts résultants du buid (jar, war,...)</para>
                        </listitem>
                        <listitem>
                            <para>Génération de la documentation</para>
                        </listitem>
                        <listitem>
                            <para>Déploiement des artefacts</para>
                        </listitem>
                        <listitem>
                            <para>Extension possible à base de plugin</para>
                        </listitem>
                    </itemizedlist>
                </listitem>
            </itemizedlist>
        </section>
        <section role="slide" xml:id="dcll_2_21">
            <title>La gestion des dépendances avec Maven</title>
            <itemizedlist>
                <listitem>
                    <para>Accès normalisés à un ou plusieurs dépôts d'artefacts</para>
                </listitem>
                <listitem>
                    <para>Déclaration</para>
                    <itemizedlist>
                        <listitem>
                            <para>des repositories contenant les artefacts</para>
                        </listitem>
                        <listitem>
                            <para>des dépendances i.e. des identifiants des artefacts dont dépend le projet</para>
                        </listitem>
                    </itemizedlist>
                </listitem>
                <listitem>
                    <para>Exemple de repository Maven</para>
                    <para>
                        <link xlink:href="http://search.maven.org">http://search.maven.org</link>
                    </para>
                </listitem>
            </itemizedlist>
        </section>
        <section role="slide" xml:id="dcll_2_22">
            <title>Déclaration de dépendances Maven</title>
            <para>
                <literallayout class="monospaced" linenumbering="numbered" language="xml">
                    <![CDATA[
                <dependencyManagement>
                    <dependencies>
                        <dependency>
                            <groupId>postgresql</groupId>
                            <artifactId>postgresql</artifactId>
                            <version>8.3-603.jdbc4</version>
                            <scope>compile</scope>
                        </dependency>
                        <dependency>
                            <groupId>com.ibatis</groupId>
                            <artifactId>ibatis</artifactId>
                            <version>2.3.4</version>
                            <type>jar</type>
                            <scope>compile</scope>
                        </dependency>
                        <dependency>
                            <groupId>org.springframework</groupId>
                            <artifactId>spring-ibatis</artifactId>
                            <version>2.0.8</version>
                            <scope>compile</scope>
                        </dependency>
                    </dependencies>
                </dependencyManagement>
                ]]>
                </literallayout>
            </para>
            <section role="comments">
                <title>Commentaires</title>
                <para>Les dépendances sont déclarées dans un fichier XML situé à la racine du projet. Ce fichier xml
                    décrit le projet sous différents aspects. Cette description es connue sous l'appelation : Project
                    Object Model (POM).
                </para>
                <para>Chaque dépendance décrit un artefact qui est caractérisé par un groupId, un artefactId et une
                    version.
                </para>
            </section>
        </section>
        <section role="slide" xml:id="dcll_2_23">
            <title>Gestion des dépendances avec Ivy</title>
            <itemizedlist>
                <listitem>
                    <para>
                        <link xlink:href="http://ant.apache.org/ivy">http://ant.apache.org/ivy</link>
                    </para>
                </listitem>
                <listitem>
                    <para>Gestion des dépendances uniquement</para>
                </listitem>
                <listitem>
                    <para>Compatible avec les dépots Maven</para>
                </listitem>
                <listitem>
                    <para>Expression des dépendance en XML ou avec DSL Groovy</para>
                </listitem>
            </itemizedlist>
        </section>
        <section role="slide" xml:id="dcll_2_24">
            <title>Déclaration de dépendances Ivy (DSL Groovy)</title>
            <para>
                <literallayout class="monospaced" linenumbering="numbered" language="xml">
                    <![CDATA[
                ￼repositories {
                    mavenCentral() maven {
                        url "http://www.ticetime.com/nexus/content/repositories/releases/"
                    }
                 }
                 dependencies {
                    liquibase group: 'org.liquibase', name: 'liquibase-core', version: '2.0.1'
                    postgresql group: 'postgresql', name: 'postgresql', version: '8.4-702.jdbc4'
                 }
                ]]>
                </literallayout>
            </para>
        </section>
        <section role="slide" xml:id="dcll_2_25">
            <title>Gestion des dépendances avec Gradle</title>
            <itemizedlist>
                <listitem>
                    <para>
                        <link xlink:href="http://www.gradle.org/">http://www.gradle.org/</link>
                    </para>
                </listitem>
                <listitem>
                    <para>Alternative complète à Maven</para>
                </listitem>
                <listitem>
                    <para>Compatible avec les dépots Maven</para>
                </listitem>
                <listitem>
                    <para>Expression des dépendance avec DSL Groovy</para>
                </listitem>
            </itemizedlist>
        </section>
        <section role="slide" xml:id="dcll_2_26">
            <title>Déclaration de dépendances Gradle</title>
            <para>
                <literallayout class="monospaced" linenumbering="numbered" language="xml">
                    <![CDATA[
            repositories {
                mavenCentral()
            }

            dependencies {
                compile group: 'org.hibernate', name: 'hibernate-core', version: '3.6.7.Final'
                testCompile group: 'junit', name: 'junit', version: '4.+'
            }
                ]]>
                </literallayout>
            </para>
        </section>
        <section role="slide" xml:id="dcll_2_27">
            <title>Stockage local des artefacts</title>
            <itemizedlist>
                <listitem>
                    <para>Maven</para>
                    <para>Par défaut dans $HOME/.m2/repository</para>
                </listitem>
                <listitem>
                    <para>Ivy</para>
                    <para>Par défaut dans $HOME/.ivy2/cache</para>
                </listitem>
                <listitem>
                    <para>Gradle</para>
                    <para>Par défaut dans $HOME/.gradle</para>
                </listitem>
                <listitem>
                    <para>Les outils utilisés pour construire le projet génèrent les classpath ad-hoc</para>
                </listitem>
            </itemizedlist>
        </section>
    </section>
    <section xml:id="sect_4">
        <title>04 - Gérer les exigences</title>
        <section role="slide" xml:id="dcll_2_28">
            <title>Référentiel d'exigences</title>
            <itemizedlist>
                <listitem>
                    <para>Objectifs</para>
                    <itemizedlist>
                        <listitem>
                            <para>Maintenir dans le temps (traçabilité) la liste des exigences fonctionnelles,
                                techniques, bogues, autres
                            </para>
                        </listitem>
                        <listitem>
                            <para>Donner de la visibilité aux parties prenantes du projet (utilisateurs, clients,...)
                            </para>
                        </listitem>
                    </itemizedlist>
                </listitem>
                <listitem>
                    <para>Outils</para>
                    <itemizedlist>
                        <listitem>
                            <para>Outils spécialisés</para>
                        </listitem>
                        <listitem>
                            <para>Outils de gestion de bogues détournés</para>
                        </listitem>
                        <listitem>
                            <para>Mantis, Bugzilla, Issues Github, Jira</para>
                        </listitem>
                    </itemizedlist>
                </listitem>
                <listitem>
                    <para>Illustration</para>
                    <para><link xlink:href="https://github.com/rails/rails/issues">Ruby On Rails</link>,
                        <link xlink:href="http://jira.grails.org/browse/GRAILS">Grails</link>
                    </para>
                </listitem>
            </itemizedlist>
        </section>
        <section role="slide" xml:id="dcll_2_29">
            <title>IDE - VCS - Exigences</title>
            <itemizedlist>
                <listitem>
                    <para>Bonne pratique : associer chaque révision à une exigence</para>
                </listitem>
                <listitem>
                    <para>Certains IDE permettent l'interfaçage à la fois avec le VCS et gestionnaire d'exigences.
                    </para>
                </listitem>
                <listitem>
                    <para>Exemples</para>
                    <itemizedlist>
                        <listitem>
                            <para>Plugin gestion de tâches IntelliJ</para>
                        </listitem>
                        <listitem>
                            <para>Plugin Mylin pour Eclipse</para>
                        </listitem>
                        <listitem>
                            <para>Illustration avec
                                <link xlink:href="https://github.com/TSaaP/tsaap-notes">Tsaap-Notes</link>
                            </para>
                        </listitem>
                    </itemizedlist>
                </listitem>
            </itemizedlist>
        </section>
    </section>
    <section xml:id="sect_5">
        <title>05 - Garantir la qualité du code</title>
        <section role="slide" xml:id="dcll_2_30">
            <title>Tester, tester et tester encore</title>
            <itemizedlist>
                <listitem>
                    <para>Tests unitaires</para>
                </listitem>
                <listitem>
                    <para>Tests d'intégration</para>
                </listitem>
                <listitem>
                    <para>Tests fonctionnels</para>
                </listitem>
            </itemizedlist>
            <para>L'automatisation des tests prévient les régressions</para>
        </section>
        <section role="slide" xml:id="dcll_2_31">
            <title>Outils de tests</title>
            <itemizedlist>
                <listitem>
                    <para>Tests unitaires et d'intégration de projets Java</para>
                    <itemizedlist>
                        <listitem>
                            <para><link xlink:href="http://www.junit.org">JUnit</link></para>
                        </listitem>
                        <listitem>
                            <para><link xlink:href="https://code.google.com/p/spock">Spock</link></para>
                        </listitem>
                        <listitem>
                            <para><link xlink:href="http://testng.org/">TestNG</link></para>
                        </listitem>
                    </itemizedlist>
                </listitem>
                <listitem>
                    <para>Tests fonctionnels d'applications Web</para>
                    <itemizedlist>
                        <listitem>
                            <para><link xlink:href="http://seleniumhq.org">Selenium</link></para>
                        </listitem>
                        <listitem>
                            <para><link xlink:href="http://www.gebish.org/">Geb</link></para>
                        </listitem>
                    </itemizedlist>
                </listitem>
            </itemizedlist>
        </section>
    </section>
</article>
